"use client";

import { useHomeAssistant } from "@/context/homeassistant";
import {useEffect, useState} from "react";


export default function Home() {
  const [time, setTime] = useState("");
  const [temperature, setTemperature] = useState("");
  const [announcement, setAnnouncement] = useState("");
  const [announcing, setAnnouncing] = useState(false);
  const [showAnnouncement, setShowAnnouncement] = useState(false);
  const HA = useHomeAssistant();
  
  const handleTimeChange = (message: MessageEvent) => {
    console.log("Got Message: ", message.data);
    const doc = JSON.parse(message.data);
    if (doc.type != "event") return;
    const entity_id = doc?.event?.variables?.trigger?.entity_id;
    const state = doc?.event?.variables?.trigger?.to_state?.state;
    const unit = doc?.event?.variables?.trigger?.to_state?.attributes?.unit_of_measurement;
    const device_class = doc?.attributes?.device_class;
    if (entity_id === "sensor.time") {
      setTime(state);
    }
    if (entity_id === "input_text.test_temp") {
      setTemperature(state + unit)
    }
    if (entity_id === "input_text.announcement" && state !== "" && state !== announcement) {
      setAnnouncement(state);
      setShowAnnouncement(true);
      setTimeout(() => {
        setAnnouncing(true);
      }, 100);
      setTimeout(() => {
        setAnnouncing(false);
        setTimeout(() => {
            setShowAnnouncement(false);
        }, 100);
      }, 10000);
    }
  }
  
  useEffect(() => {
    const checkHA = async () => {
      console.log("checking HA")
        if (HA?.areEntitiesLoaded) {
          console.log("time id updated");
            setTime(HA?.get_entity_by_id("sensor.time")?.state || "");
            setTemperature((HA?.get_entity_by_id("input_text.test_temp")?.state || "") + (HA?.get_entity_by_id("input_text.test_temp")?.unit || ""));
            HA.addMessageHandler(handleTimeChange);
            return;
        }
        setTimeout(checkHA, 1000);
    }
    checkHA();
  }, []);
  
  return (
    <main className="flex w-screen h-screen flexo-row items-center justify-between p-12 bg-ice-dark-blue transition-all duration-500 transform">
      <div className={`flex flex-row items-center justify-between h-full ${announcing ? "w-1/3" : "w-1/12"}`}>
        <div className="flex flex-col items-center justify-between h-full m-3 py-5">
          <svg viewBox="0 0 75 771" className="w-5">
            <path d="M71.2 17.3L0.999999 17.3L1 0.199995L71.2 0.199999L71.2 17.3ZM36.2 26.7922C43.1333 26.7922 49.3 28.2922 54.7 31.2922C60.1667 34.2922 64.4 38.4589 67.4 43.7922C70.4667 49.1922 72 55.2922 72 62.0922C72 70.4255 69.8 77.5589 65.4 83.4922C61 89.4255 55 93.3922 47.4 95.3922L47.4 76.5922C50.3333 75.1922 52.5667 73.1922 54.1 70.5922C55.6333 68.0589 56.4 65.1589 56.4 61.8922C56.4 56.6255 54.5667 52.3589 50.9 49.0922C47.2333 45.8255 42.3333 44.1922 36.2 44.1922C30.0667 44.1922 25.1667 45.8255 21.5 49.0922C17.8333 52.3589 16 56.6255 16 61.8922C16 65.1589 16.7667 68.0589 18.3 70.5922C19.8333 73.1922 22.0667 75.1922 25 76.5922L25 95.3922C17.4 93.3922 11.4 89.4255 7 83.4922C2.66666 77.5589 0.499997 70.4255 0.499997 62.0922C0.499997 55.2922 2 49.1922 5 43.7922C8.06667 38.4589 12.3 34.2922 17.7 31.2922C23.1 28.2922 29.2667 26.7922 36.2 26.7922ZM57.5 122.964L43.3 122.964L43.3 145.864L30.1 145.864L30.1 122.964L14.7 122.964L14.7 148.864L0.999993 148.864L0.999995 105.864L71.2 105.864L71.2 148.864L57.5 148.864L57.5 122.964ZM0.99999 216.957L27.5 202.357L27.5 198.257L0.999991 198.257L0.999992 181.157L71.2 181.157L71.2 209.857C71.2 215.39 70.2333 220.09 68.3 223.957C66.3667 227.89 63.7 230.824 60.3 232.757C56.9667 234.69 53.2333 235.657 49.1 235.657C44.4333 235.657 40.2667 234.324 36.6 231.657C32.9333 229.057 30.3333 225.19 28.8 220.057L0.999989 236.257L0.99999 216.957ZM39.6 198.257L39.6 208.857C39.6 211.99 40.3667 214.324 41.9 215.857C43.4333 217.457 45.6 218.257 48.4 218.257C51.0667 218.257 53.1667 217.457 54.7 215.857C56.2333 214.324 57 211.99 57 208.857L57 198.257L39.6 198.257ZM0.199988 271.791C0.199988 266.325 1.36665 261.391 3.69999 256.991C6.03332 252.658 9.36666 249.225 13.7 246.691C18.0333 244.225 23.1 242.991 28.9 242.991C34.6333 242.991 39.6667 244.258 44 246.791C48.4 249.325 51.7667 252.791 54.1 257.191C56.4333 261.591 57.6 266.525 57.6 271.991C57.6 277.458 56.4333 282.391 54.1 286.791C51.7667 291.191 48.4 294.658 44 297.191C39.6667 299.725 34.6333 300.991 28.9 300.991C23.1667 300.991 18.1 299.691 13.7 297.091C9.36665 294.558 6.03332 291.058 3.69999 286.591C1.36665 282.191 0.199988 277.258 0.199988 271.791ZM15 271.791C15 275.058 16.2 277.825 18.6 280.091C21 282.425 24.4333 283.591 28.9 283.591C33.3667 283.591 36.8 282.458 39.2 280.191C41.6 277.991 42.8 275.258 42.8 271.991C42.8 268.658 41.6 265.891 39.2 263.691C36.8667 261.491 33.4333 260.391 28.9 260.391C24.4333 260.391 21 261.458 18.6 263.591C16.2 265.791 15 268.525 15 271.791ZM0.199985 335.463C0.199985 329.997 1.36665 325.063 3.69999 320.663C6.03332 316.33 9.36665 312.897 13.7 310.363C18.0333 307.897 23.1 306.663 28.9 306.663C34.6333 306.663 39.6667 307.93 44 310.463C48.4 312.997 51.7667 316.463 54.1 320.863C56.4333 325.263 57.6 330.197 57.6 335.663C57.6 341.13 56.4333 346.063 54.1 350.463C51.7667 354.863 48.4 358.33 44 360.863C39.6667 363.397 34.6333 364.663 28.9 364.663C23.1667 364.663 18.1 363.363 13.7 360.763C9.36665 358.23 6.03332 354.73 3.69998 350.263C1.36665 345.863 0.199985 340.93 0.199985 335.463ZM15 335.463C15 338.73 16.2 341.497 18.6 343.763C21 346.097 24.4333 347.263 28.9 347.263C33.3667 347.263 36.8 346.13 39.2 343.863C41.6 341.663 42.8 338.93 42.8 335.663C42.8 332.33 41.6 329.563 39.2 327.363C36.8667 325.163 33.4333 324.063 28.9 324.063C24.4333 324.063 21 325.13 18.6 327.263C16.2 329.463 15 332.197 15 335.463ZM57.4 444.935C57.4 451.868 55.3 457.368 51.1 461.435C46.9 465.568 41.0666 467.635 33.6 467.635L0.999979 467.635L0.99998 450.635L31.3 450.635C34.9 450.635 37.6666 449.668 39.6 447.735C41.6 445.868 42.6 443.268 42.6 439.935C42.6 436.602 41.6 433.968 39.6 432.035C37.6666 430.168 34.9 429.235 31.3 429.235L0.999981 429.235L0.999982 412.235L31.3 412.235C34.9 412.235 37.6667 411.268 39.6 409.335C41.6 407.468 42.6 404.868 42.6 401.535C42.6 398.202 41.6 395.568 39.6 393.635C37.6667 391.768 34.9 390.835 31.3 390.835L0.999983 390.835L0.999983 373.735L56.8 373.735L56.8 390.835L49.8 390.835C52.1333 392.568 53.9667 394.835 55.3 397.635C56.7 400.435 57.4 403.602 57.4 407.135C57.4 411.335 56.5 415.068 54.7 418.335C52.9 421.668 50.3333 424.268 47 426.135C50.0667 428.068 52.5667 430.702 54.5 434.035C56.4333 437.368 57.4 441.002 57.4 444.935ZM28.9 497.386C34.7 497.386 39.7666 498.553 44.1 500.886C48.4333 503.286 51.7666 506.586 54.1 510.786C56.4333 515.053 57.6 519.919 57.6 525.386C57.6 532.386 55.7666 538.219 52.1 542.886C48.4333 547.619 43.2666 550.719 36.6 552.186L36.6 533.986C40.8666 532.453 43 529.486 43 525.086C43 521.953 41.7666 519.453 39.3 517.586C36.9 515.719 33.4333 514.786 28.9 514.786C24.3666 514.786 20.8666 515.719 18.4 517.586C16 519.453 14.8 521.953 14.8 525.086C14.8 529.486 16.9333 532.453 21.2 533.986L21.2 552.186C14.6666 550.719 9.53331 547.619 5.79998 542.886C2.06664 538.153 0.199976 532.319 0.199977 525.386C0.199977 519.919 1.36664 515.053 3.69998 510.786C6.03331 506.586 9.36664 503.286 13.7 500.886C18.0333 498.553 23.1 497.386 28.9 497.386ZM75 578.433L0.999974 578.433L0.999975 561.333L75 561.333L75 578.433ZM0.199973 616.225C0.199973 610.758 1.36664 605.825 3.69997 601.425C6.03331 597.092 9.36664 593.658 13.7 591.125C18.0333 588.658 23.1 587.425 28.9 587.425C34.6333 587.425 39.6666 588.692 44 591.225C48.4 593.758 51.7666 597.225 54.1 601.625C56.4333 606.025 57.6 610.958 57.6 616.425C57.6 621.892 56.4333 626.825 54.1 631.225C51.7666 635.625 48.4 639.092 44 641.625C39.6666 644.158 34.6333 645.425 28.9 645.425C23.1666 645.425 18.1 644.125 13.7 641.525C9.36664 638.992 6.03331 635.492 3.69997 631.025C1.36664 626.625 0.199973 621.692 0.199973 616.225ZM15 616.225C15 619.492 16.2 622.258 18.6 624.525C21 626.858 24.4333 628.025 28.9 628.025C33.3666 628.025 36.8 626.892 39.2 624.625C41.6 622.425 42.8 619.692 42.8 616.425C42.8 613.092 41.6 610.325 39.2 608.125C36.8666 605.925 33.4333 604.825 28.9 604.825C24.4333 604.825 21 605.892 18.6 608.025C16.2 610.225 15 612.958 15 616.225ZM28.9 651.097C34.7 651.097 39.7666 652.264 44.1 654.597C48.4333 656.997 51.7666 660.297 54.1 664.497C56.4333 668.764 57.6 673.63 57.6 679.097C57.6 686.097 55.7666 691.93 52.1 696.597C48.4333 701.33 43.2666 704.43 36.6 705.897L36.6 687.697C40.8666 686.164 43 683.197 43 678.797C43 675.664 41.7666 673.164 39.3 671.297C36.9 669.43 33.4333 668.497 28.9 668.497C24.3666 668.497 20.8666 669.43 18.4 671.297C16 673.164 14.8 675.664 14.8 678.797C14.8 683.197 16.9333 686.164 21.2 687.697L21.2 705.897C14.6666 704.43 9.5333 701.33 5.79997 696.597C2.06664 691.864 0.19997 686.03 0.19997 679.097C0.19997 673.63 1.36664 668.764 3.69997 664.497C6.0333 660.297 9.36664 656.997 13.7 654.597C18.0333 652.264 23.1 651.097 28.9 651.097ZM0.999967 749.144L24.4 732.144L0.999968 732.144L0.999968 715.044L75 715.044L75 732.144L34.1 732.144L56.8 749.044L56.8 770.144L28.8 746.944L0.999966 770.344L0.999967 749.144Z" fill="white" />
          </svg>
          <svg viewBox="0 0 200 134" className="w-12">
            <path d="M0 133.333C131.801 122.054 186.252 130.288 186.252 130.288C161.982 125.087 135.613 123.264 110.545 123.264C51.6555 123.266 0 133.333 0 133.333Z" fill="#FCF7FF" />
            <path d="M126.066 115.912L130.604 119.696C131.667 119.747 132.731 119.794 133.794 119.852L125.878 113.154C125.937 114.073 126 114.993 126.066 115.912Z" fill="#FCF7FF" />
            <path d="M102.757 18.9126C101.498 19.0496 100.245 19.1067 98.9943 19.1088V64.0725C99.2729 63.0369 99.5458 62.0008 99.8087 60.963C99.5789 67.4675 99.3459 73.9725 99.084 80.4759H107.981L108.232 80.698L122.852 93.6836C123.18 92.3645 123.556 91.0597 123.978 89.7697L111.46 78.5961H103.319V18.8491C103.131 18.8692 102.945 18.8946 102.757 18.9126Z" fill="#FCF7FF" />
            <path d="M86.7345 88.6537L90.3028 92.7035V106.21L93.6706 109.929C92.3572 104.249 92.5834 98.4199 93.4545 92.6813L89.0508 87.6842C88.2899 88.0333 87.5153 88.3512 86.7345 88.6537Z" fill="#FCF7FF" />
            <path d="M90.7106 86.8787L93.8292 90.4182C94.196 88.3729 94.6268 86.3424 95.086 84.34C93.687 85.2555 92.2229 86.1076 90.7106 86.8787Z" fill="#FCF7FF" />
            <path d="M115.924 16.1903V64.183L129.738 76.5302C130.094 75.8463 130.454 75.1656 130.819 74.4892C130.964 74.2284 131.114 73.9698 131.26 73.7106L120.925 64.1994V14.7004C119.26 15.206 117.595 15.7101 115.924 16.1903Z" fill="#FCF7FF" />
            <path d="M130.896 11.8993C129.448 12.2404 128.009 12.6244 126.575 13.028V29.5308L143.623 46.0891V56.0272C144.018 55.6004 144.405 55.1678 144.812 54.7526C145.129 54.4273 145.465 54.1264 145.806 53.8339V44.7621L129.746 28.6814V17.0159C129.704 17 129.661 16.9905 129.62 16.9704C128.673 16.5155 128.272 15.3731 128.723 14.4195C129.174 13.4654 130.307 13.0613 131.254 13.5156C132.2 13.9705 132.602 15.1129 132.15 16.067C132.003 16.3775 131.78 16.6229 131.517 16.8059V27.9383L147.578 44.0196V52.5185C148.752 51.7569 150.007 51.1233 151.318 50.6134V43.588L134.686 26.2373V11.0404C133.418 11.3117 132.154 11.6004 130.896 11.8993Z" fill="#FCF7FF" />
            <path d="M125.963 96.4466L144.341 112.77V120.54C145.783 120.651 147.225 120.771 148.666 120.895V112.073C148.178 111.966 147.692 111.863 147.209 111.758C147.08 111.246 146.974 110.73 146.88 110.213L127.165 92.6141C126.732 93.8814 126.339 95.1619 125.963 96.4466Z" fill="#FCF7FF" />
            <path d="M61.0076 29.9645C61.1603 30.3956 61.166 30.8806 60.9787 31.3376C60.5767 32.3134 59.4658 32.7762 58.4977 32.371C57.529 31.9664 57.0698 30.8467 57.4718 29.8709C57.8386 28.9781 58.7983 28.5233 59.6999 28.7597L71.1143 16.2956C70.2689 16.3368 69.4225 16.4045 68.5745 16.5114C65.9114 16.8091 63.3075 17.4184 60.7924 18.2853L40.5491 40.1819C40.6016 40.5182 40.5716 40.8721 40.4321 41.2101C40.0312 42.1859 38.9203 42.6487 37.9516 42.2435C36.9829 41.8384 36.5232 40.7192 36.9251 39.7434C37.3271 38.7671 38.438 38.3037 39.4067 38.7089C39.4261 38.7168 39.4424 38.73 39.4618 38.739L56.905 19.871C51.3464 22.488 46.3638 26.387 42.3904 31.0863C36.3332 38.2054 32.2396 46.9857 30.5143 56.1891C30.4597 56.6091 30.3967 57.0386 30.3385 57.4723L33.296 61.3771C33.9661 60.561 34.5039 59.517 35.1043 58.8151C34.7626 60.0417 34.4483 61.2735 34.1524 62.5085L37.9007 67.4574C38.279 67.3638 38.6883 67.3812 39.0766 67.5431C40.0448 67.9488 40.504 69.0679 40.1025 70.0443C39.7006 71.0206 38.5897 71.4839 37.6215 71.0788C36.6759 70.6832 36.2215 69.6079 36.5736 68.6485L33.6402 64.7748C33.4319 65.7326 33.2388 66.6921 33.0551 67.6536L34.6524 69.8158C34.9363 69.7962 35.2276 69.8332 35.5078 69.9506C36.4765 70.3558 36.9356 71.4749 36.5342 72.4508C36.1322 73.4271 35.0214 73.8904 34.0527 73.4848C33.0845 73.0802 32.6253 71.9605 33.0273 70.9847C33.0593 70.9058 33.1034 70.836 33.1448 70.7641L32.6196 70.0538C32.4301 71.1698 32.2549 72.2884 32.0959 73.4091C32.2286 73.8259 32.2291 74.2882 32.0492 74.7245C32.0009 74.843 31.9405 74.9535 31.8723 75.0561C30.8648 82.839 30.5332 90.7138 30.5694 98.587L41.5319 88.3438V58.9352C40.6184 58.5031 40.1917 57.4241 40.5816 56.4758C40.9836 55.4994 42.0945 55.0361 43.0626 55.4412C44.0313 55.8464 44.491 56.9661 44.0885 57.9419C43.9258 58.3381 43.643 58.6443 43.3035 58.8474V89.1228L30.5882 101.004C30.6061 102.322 30.6344 103.639 30.6696 104.957C31.3161 105.295 31.7621 105.969 31.7621 106.754C31.7621 107.494 31.3665 108.134 30.7814 108.49C30.8548 110.498 30.9398 112.504 31.0385 114.504C31.1125 115.439 31.1497 116.381 31.1859 117.324C31.4069 117.234 31.6477 117.182 31.9012 117.182C32.9533 117.182 33.8065 118.042 33.8065 119.103C33.8065 120.163 32.9533 121.023 31.9012 121.023C31.7506 121.023 31.6057 121.001 31.4646 120.968L31.4063 121.023C31.5444 122.378 31.7773 123.718 32.2192 125.024C34.1692 124.779 36.1176 124.521 38.066 124.259V115.268C37.4714 114.947 37.0632 114.322 37.0632 113.596C37.0632 112.544 37.9085 111.691 38.9523 111.691C39.9955 111.691 40.8414 112.544 40.8414 113.596C40.8414 114.322 40.4321 114.947 39.8375 115.268V124.021C41.5849 123.785 43.3318 123.547 45.0793 123.311V54.9287L41.7875 51.9219C41.3178 52.1494 40.7605 52.1885 40.241 51.9716C39.2724 51.5665 38.8127 50.4468 39.2146 49.4705C39.6161 48.4941 40.7275 48.0313 41.6957 48.4359C42.5137 48.7787 42.9619 49.6302 42.8412 50.4748L46.8503 54.137V123.072C47.7665 122.949 48.6833 122.83 49.6 122.711V112.422C49.5512 112.418 49.5029 112.409 49.4531 112.407C49.4814 111.978 49.5328 111.561 49.6 111.151V50.8784L45.7373 46.936C45.2865 47.1269 44.7628 47.1443 44.2748 46.9402C43.3061 46.5356 42.847 45.4159 43.2484 44.4395C43.6504 43.4632 44.7618 43.0004 45.73 43.405C46.5811 43.7609 47.0376 44.668 46.8645 45.5449L51.3715 50.1453V106.273C52.272 104.66 53.4023 103.157 54.5867 101.679V50.0903L51.1023 45.3657C50.9134 45.3487 50.724 45.3127 50.5393 45.2355C49.5706 44.8309 49.112 43.7112 49.5134 42.7349C49.9154 41.7585 51.0257 41.2958 51.9944 41.7004C52.9631 42.1055 53.4228 43.2252 53.0208 44.201C52.9558 44.3597 52.8661 44.4993 52.7669 44.6289L56.3583 49.499V99.4978C57.6586 97.8915 58.918 96.2667 59.904 94.514C62.713 90.022 64.4037 84.7763 64.4662 79.4529C64.6803 80.1749 64.9909 80.836 65.3761 81.4384V45.4629L59.565 39.3769C59.1059 39.5826 58.5685 39.6091 58.0679 39.3996C57.0992 38.9945 56.64 37.8748 57.042 36.899C57.4434 35.9226 58.5543 35.4598 59.5225 35.8645C60.3569 36.2135 60.8102 37.092 60.6638 37.9531L67.1471 44.7431V83.4234C68.1164 84.2194 69.2545 84.8181 70.462 85.2174V31.0297C69.5285 30.6077 69.0887 29.5139 69.4833 28.5545C69.8853 27.5781 70.9962 27.1153 71.9649 27.5205C72.9331 27.9251 73.3922 29.0448 72.9908 30.0211C72.8323 30.4062 72.561 30.7076 72.2341 30.9113V85.649C72.392 85.6744 72.551 85.7009 72.71 85.7194C73.5512 85.8331 74.3997 85.9103 75.2514 85.9558V39.8212C74.3724 39.3737 73.9658 38.3191 74.3488 37.3877C74.7508 36.4113 75.8617 35.9485 76.8304 36.3531C77.7985 36.7583 78.2582 37.878 77.8557 38.8538C77.6857 39.2679 77.3835 39.5826 77.023 39.7852V86.0002C78.5909 85.997 80.1604 85.8791 81.7137 85.6437L79.8708 83.5509V20.5337C79.0244 20.073 78.6382 19.0401 79.0149 18.1256C79.4164 17.1492 80.5273 16.6859 81.4965 17.091C82.4646 17.4957 82.9238 18.6158 82.5218 19.5922C82.3439 20.0238 82.0238 20.3475 81.6423 20.5479V82.8733L83.7492 85.265C84.6135 85.0736 85.4683 84.8435 86.3111 84.5759L84.0063 81.9599V53.6721C83.1206 53.2278 82.7102 52.1679 83.0949 51.2333C83.4963 50.2569 84.6072 49.7942 85.5759 50.1993C86.5446 50.6039 87.0032 51.7236 86.6018 52.7C86.4328 53.1104 86.1347 53.423 85.7779 53.6261V81.2819L88.1188 83.9385C89.1814 83.5212 90.2194 83.042 91.2227 82.4946C92.6831 81.8261 93.2488 80.2484 93.9053 78.9039C95.1846 76.0452 96.2672 73.1082 97.2227 70.1294V19.0749C95.6222 19.011 94.0254 18.8618 92.4307 18.665V75.8601C93.2855 76.317 93.677 77.3558 93.2987 78.2745C92.8972 79.2509 91.7863 79.7142 90.8182 79.3096C89.8495 78.9044 89.3898 77.7847 89.7917 76.8084C89.9675 76.381 90.2834 76.06 90.6591 75.859V18.4276C84.964 17.6115 79.2909 16.3474 73.5601 16.257L61.0076 29.9645Z" fill="#FCF7FF" />
            <path d="M99.0121 82.2608C98.829 86.7084 98.6212 91.1554 98.3966 95.6014L100.927 98.4728V108.211L104.37 111.042C104.846 110.803 105.416 110.756 105.946 110.978C106.914 111.383 107.374 112.502 106.972 113.478C106.57 114.455 105.459 114.917 104.491 114.513C103.681 114.174 103.236 113.337 103.343 112.502L99.1554 109.06V99.1508L98.2644 98.1396C98.1867 99.6142 98.118 101.089 98.034 102.563C97.7805 106.232 97.6446 109.933 96.9504 113.551L102.041 119.173C104.291 119.147 106.541 119.141 108.791 119.147V110.174L104.469 106.022C104.053 106.159 103.592 106.16 103.156 105.978C102.188 105.573 101.728 104.454 102.13 103.477C102.532 102.501 103.643 102.039 104.611 102.444C105.512 102.82 105.963 103.815 105.7 104.738L110.563 109.409V119.154C113.694 119.174 116.825 119.224 119.954 119.305L112.781 112.934V100.569L107.118 95.2364C106.698 95.3803 106.229 95.3835 105.786 95.1989C104.817 94.7937 104.358 93.674 104.76 92.6977C105.162 91.7213 106.272 91.2585 107.24 91.6632C108.135 92.0376 108.586 93.0203 108.334 93.938L114.552 99.7945V112.127L122.716 119.377C124.364 119.428 126.013 119.491 127.661 119.56L126.249 118.383C126.253 118.419 126.254 118.454 126.258 118.49C124.127 117.272 121.898 116.244 119.586 115.441C119.614 115.098 119.647 114.757 119.676 114.415C118.976 113.908 118.683 112.968 119.028 112.13C119.22 111.665 119.576 111.32 119.997 111.127C120.517 106.352 121.251 101.604 122.164 96.894C122.237 96.4825 122.319 96.0737 122.403 95.6643L107.312 82.2608H99.0121Z" fill="#FCF7FF" />
            <path d="M110.259 17.6686C110.125 17.8315 109.967 17.9706 109.792 18.0795V66.4588L127.237 81.5896C127.771 80.4382 128.325 79.2969 128.897 78.1655L114.153 64.9869V16.6864C112.861 17.0392 111.564 17.3713 110.259 17.6686Z" fill="#FCF7FF" />
            <path d="M127.813 90.8084L146.531 107.516C146.357 105.289 146.441 103.041 146.681 100.808L129.697 86.0785C129.025 87.6361 128.396 89.2138 127.813 90.8084Z" fill="#FCF7FF" />
            <path d="M125.279 103.985C125.447 106.218 125.584 108.454 125.721 110.689L136.758 120.028C138.696 120.146 140.633 120.275 142.57 120.415V113.576L125.424 98.3479C124.932 100.183 125.171 102.11 125.279 103.985Z" fill="#FCF7FF" />
            <path d="M159.886 0.581261V7.01061L174.054 22.1674C175.861 21.9897 177.673 21.9738 179.33 22.8766C178.653 23.616 178.275 25.3625 176.934 24.8061C176.701 24.7151 176.474 24.6099 176.245 24.511L176.779 25.0816C177.207 24.9589 177.677 24.9795 178.111 25.1879C179.057 25.6433 179.459 26.7852 179.007 27.7388C178.556 28.693 177.423 29.0976 176.476 28.6427C175.603 28.2233 175.203 27.22 175.499 26.3177L158.115 7.7188V1.70731C157.09 2.47792 156.158 3.37016 155.333 4.35286V9.28172L169.143 22.7867C169.612 22.6069 170.147 22.6095 170.635 22.8438C171.582 23.2987 171.983 24.4406 171.532 25.3947C171.081 26.3489 169.947 26.7535 169.001 26.2981C168.178 25.903 167.769 24.988 167.972 24.1296L153.562 10.037V6.90482C153.137 7.66221 152.768 8.45292 152.469 9.27271C151.791 9.23199 151.114 9.21243 150.438 9.20186V11.1302L170.271 31.4813C170.738 31.3047 171.271 31.3095 171.756 31.5422C172.702 31.9976 173.103 33.1395 172.652 34.0936C172.201 35.0472 171.068 35.4518 170.121 34.997C169.297 34.6008 168.886 33.6821 169.094 32.8216L148.666 11.8601V9.20554C144.565 9.29175 140.489 9.87195 136.458 10.6738V25.5153L153.089 42.8665V50.0025C153.986 49.7253 154.893 49.4858 155.801 49.2879C156.701 49.0949 157.604 48.9325 158.508 48.7934V42.9279L142.448 26.8471V15.1816C142.406 15.1652 142.363 15.1562 142.321 15.1361C141.375 14.6813 140.974 13.5394 141.425 12.5852C141.876 11.6311 143.009 11.2265 143.956 11.6813C144.902 12.1362 145.304 13.2781 144.853 14.2322C144.706 14.5432 144.482 14.7887 144.219 14.9717V26.104L160.28 42.1853V48.5533C163.164 48.2116 166.069 48.0958 168.978 48.0789V47.0586C168.218 46.536 167.923 45.5237 168.331 44.6606C168.783 43.7064 169.916 43.3018 170.862 43.7567C171.809 44.2115 172.21 45.3534 171.758 46.3076C171.545 46.7587 171.176 47.0819 170.75 47.2543V48.0794C173.472 48.0952 176.195 48.1719 178.904 48.2037C179.439 48.192 179.977 48.1746 180.517 48.154V45.977L174.397 41.0476C173.905 41.2719 173.325 41.2925 172.799 41.0397C171.852 40.5854 171.451 39.4434 171.902 38.4893C172.353 37.5352 173.487 37.1306 174.433 37.5854C175.218 37.9625 175.618 38.8109 175.479 39.6339L182.289 45.1181V48.0646C183.956 47.9588 185.629 47.7821 187.268 47.4764L185.435 46.3171V40.451L178.733 34.6611C178.455 34.6627 178.175 34.6098 177.907 34.4813C176.961 34.027 176.559 32.8845 177.01 31.9304C177.462 30.9762 178.595 30.5716 179.541 31.0265C180.488 31.4813 180.889 32.6238 180.438 33.5779C180.415 33.6266 180.383 33.6668 180.356 33.7128L187.206 39.6296V45.3296L189.705 46.91C191.658 46.362 193.535 45.5824 195.265 44.458C196.705 43.5039 197.971 42.1266 198.837 40.551L192.468 34.8685C191.932 35.2191 191.237 35.2942 190.618 34.997C189.671 34.5421 189.27 33.3997 189.722 32.4461C190.172 31.4925 191.306 31.0879 192.253 31.5422C192.928 31.8675 193.319 32.5434 193.327 33.2505L199.589 38.8379C199.811 38.1561 199.953 37.4548 200 36.7482L189 26.9963C188.495 27.2485 187.887 27.2813 187.339 27.018C186.519 26.6239 186.111 25.7147 186.309 24.8584C185.16 24.0386 184.01 23.2178 182.872 22.3832C182.378 20.9345 181.863 19.415 181.013 18.134V18.8781C181.807 19.3906 182.123 20.4241 181.707 21.3042C181.255 22.2583 180.122 22.6629 179.176 22.2076C178.229 21.7532 177.828 20.6113 178.279 19.6567C178.485 19.2224 178.835 18.9088 179.242 18.7321V16.2717C177.201 14.6771 174.984 13.3358 172.79 11.9648C172.871 12.3578 172.837 12.7777 172.652 13.1681C172.201 14.1222 171.068 14.5268 170.121 14.0725C169.175 13.6171 168.774 12.4752 169.225 11.5211C169.406 11.1382 169.699 10.8489 170.045 10.6632V10.1835C169.854 10.0534 169.661 9.92643 169.473 9.79368C167.496 6.83658 166.706 3.01315 163.94 0.605055C163.383 0.172942 162.757 0 162.117 0C161.362 0 160.588 0.241179 159.886 0.581261ZM152.439 25.6539C151.493 25.199 151.091 24.0571 151.543 23.1025C151.994 22.1489 153.127 21.7448 154.074 22.1991C155.02 22.6545 155.422 23.7964 154.97 24.75C154.947 24.7987 154.915 24.8394 154.889 24.8849L161.738 30.8022V36.5022L164.919 38.5136C165.457 38.1535 166.159 38.0725 166.785 38.373C167.731 38.8278 168.132 39.9697 167.682 40.9239C167.23 41.8775 166.097 42.2821 165.151 41.8272C164.464 41.4977 164.07 40.8054 164.074 40.0866L159.967 37.4892V31.6231L153.265 25.8337C153.261 25.8337 153.258 25.8337 153.254 25.8337C152.98 25.8337 152.703 25.7803 152.439 25.6539Z" fill="#FCF7FF" />
            <path d="M122.696 14.1636V63.4113L132.16 72.1213C132.631 71.3015 133.113 70.4875 133.602 69.6772L129.601 65.958V49.1304C129.597 49.1283 129.592 49.1272 129.588 49.1251C128.641 48.6702 128.239 47.5283 128.691 46.5747C129.142 45.6206 130.275 45.2154 131.221 45.6703C132.167 46.1257 132.569 47.2676 132.118 48.2212C131.95 48.5777 131.686 48.8564 131.373 49.0431V65.1757L134.554 68.1333C136.757 64.5976 139.158 61.1883 141.852 58.0223V46.8482L124.804 30.2903V13.5368C124.1 13.7431 123.398 13.952 122.696 14.1636Z" fill="#FCF7FF" />
            <path d="M74.6306 120.265C74.8851 120.247 75.1397 120.233 75.3942 120.217L74.5992 119.441C74.6097 119.716 74.6201 119.99 74.6306 120.265Z" fill="#FCF7FF" />
            <path d="M56.3583 121.81L56.4207 121.873C58.3807 121.647 60.3432 121.434 62.3079 121.25C60.9079 118.636 58.8388 116.358 56.3583 114.761V121.81Z" fill="#FCF7FF" />
            <path d="M72.2341 108.216C72.7378 109.329 73.1854 110.469 73.5412 111.653C74.0859 113.329 74.3273 115.068 74.4595 116.819L77.7859 120.066C79.0537 119.987 80.321 119.913 81.5883 119.845L75.2514 113.547V91.029C74.246 91.0465 73.2384 91.019 72.2341 90.9238V108.216Z" fill="#FCF7FF" />
            <path d="M105.09 18.6323V76.8105H112.131L124.605 87.945C125.173 86.3709 125.802 84.8176 126.475 83.2832L108.021 67.2781V18.1959C107.996 18.1848 107.975 18.1684 107.951 18.1562C107.003 18.3387 106.05 18.4963 105.09 18.6323Z" fill="#FCF7FF" />
            <path d="M157.348 121.716C158.232 121.809 159.117 121.897 160 121.994V120.166C159.632 118.395 159.104 116.624 157.611 115.518C157.524 115.454 157.435 115.396 157.348 115.335V121.716Z" fill="#FCF7FF" />
            <path d="M150.438 121.047C152.152 121.2 153.864 121.361 155.577 121.532V114.273C153.959 113.455 152.21 112.916 150.438 112.481V121.047Z" fill="#FCF7FF" />
            <path d="M77.023 90.9449V112.8L83.9869 119.72C85.8335 119.63 87.6807 119.55 89.5288 119.48L80.3856 110.093V96.0456C79.4977 95.6024 79.0857 94.5414 79.4709 93.6053C79.8729 92.6295 80.9838 92.1661 81.9525 92.5713C82.9206 92.9759 83.3803 94.0956 82.9784 95.0719C82.8099 95.4813 82.5124 95.7939 82.1571 95.9965V109.362L91.9296 119.397C94.5108 119.313 97.0931 119.252 99.6749 119.209L88.5308 106.902V93.381L84.9352 89.3C82.3581 90.1558 79.7018 90.7339 77.023 90.9449Z" fill="#FCF7FF" />
            <path d="M51.3715 122.481C52.4431 122.345 53.5141 122.212 54.5867 122.084V113.774C53.5629 113.288 52.4877 112.915 51.3715 112.679V122.481Z" fill="#FCF7FF" />
            <path d="M135.387 75.0905L149.758 88.3152C150.091 87.4272 150.437 86.5428 150.789 85.6612L136.886 72.7311C136.373 73.5091 135.874 74.2956 135.387 75.0905Z" fill="#FCF7FF" />
            <path d="M132.92 79.3752L148.168 93.0029C148.453 92.0361 148.765 91.0777 149.099 90.1267L134.449 76.645C133.923 77.5452 133.413 78.4549 132.92 79.3752Z" fill="#FCF7FF" />
            <path d="M130.445 84.3712L146.952 98.6875C147.111 97.608 147.298 96.5354 147.502 95.4718C147.545 95.2872 147.597 95.1048 147.643 94.9212L132.078 81.009C131.512 82.1186 130.963 83.2372 130.445 84.3712Z" fill="#FCF7FF" />
            <path d="M67.1471 94.2511V99.1429C68.2428 101.017 69.3988 102.862 70.462 104.752V90.691C69.9083 90.599 69.3553 90.4901 68.8048 90.3599C68.3839 91.7139 67.8219 93.0108 67.1471 94.2511Z" fill="#FCF7FF" />
            <path d="M30.8008 62.5825C31.2069 62.6423 31.5695 62.5973 31.8991 62.4762L30.1726 60.1961C30.2214 61.0228 30.3967 61.8299 30.8008 62.5825Z" fill="#FCF7FF" />
            <path d="M153.089 55.7697V70.7826C153.11 70.7921 153.132 70.7963 153.154 70.8059C154.1 71.2607 154.501 72.4026 154.05 73.3568C153.599 74.3109 152.466 74.7155 151.519 74.2607C150.573 73.8058 150.172 72.6639 150.623 71.7098C150.781 71.3745 151.028 71.1111 151.318 70.9249V56.6054C150.341 57.1443 149.427 57.797 148.613 58.6109C148.262 58.9463 147.923 59.2943 147.578 59.636V61.4549C147.615 61.4697 147.654 61.4781 147.691 61.4961C148.638 61.9505 149.039 63.0923 148.588 64.0465C148.137 65.0006 147.004 65.4058 146.057 64.9504C145.111 64.4955 144.71 63.3536 145.16 62.3995C145.31 62.0832 145.539 61.8346 145.806 61.65V61.4469C145.062 62.234 144.335 63.0352 143.623 63.8519V68.9621C143.63 68.9648 143.636 68.9658 143.643 68.969C144.589 69.4239 144.991 70.5658 144.54 71.5199C144.088 72.474 142.955 72.8786 142.009 72.4238C141.062 71.9689 140.661 70.827 141.112 69.8724C141.279 69.5185 141.541 69.2419 141.852 69.0552V65.9537C140.462 67.661 139.14 69.4228 137.89 71.2364L151.501 83.8941C151.812 83.1272 152.123 82.3603 152.431 81.5923C152.29 81.1443 152.305 80.6456 152.522 80.1876C152.698 79.8141 152.981 79.5291 153.315 79.3424C154.355 76.6317 155.296 73.8867 155.934 71.0391C157.025 66.4255 157.293 61.6321 158.508 57.0528V54.2903C156.68 54.6458 154.823 55.0774 153.089 55.7697Z" fill="#FCF7FF" />
          </svg>
        </div>
        <div className={`text-3xl flex flex-col items-center justify-center h-full m-3 py-5 transition-all duration-500 ${announcing ? "scale-x-100" : "scale-x-0"} ${!showAnnouncement && "hidden"}`}>
          {announcement}
        </div>
        <div className={`h-full ml-5 w-1 border border-ice-light-blue rounded-full bg-ice-light-blue transition-all duration-500 transform`}/>
      </div>
      <div className={`absolute flex flex-col items-center justify-center transition-all transform ${showAnnouncement ? "-translate-x-1/4" : "-translate-x-1/2"} -translate-y-1/2 top-1/2 left-1/2`}>
        <h1 className="text-9xl font-bold text-white">
          {time}
        </h1>
      </div>
      <div className="flex flex-col items-center justify-end h-full">
        <h3 className="text-2xl italic font-light text-white">
          {temperature}
        </h3>
      </div>
    </main>
  );
}
